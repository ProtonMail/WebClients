import { Meta, Source } from '@storybook/addon-docs';

import { Alert } from '@proton/components';

import { getTitle } from '../../../helpers/title';

<Meta title={getTitle(__filename)} />

# How to use theming mechanism

First, to understand how this mechanism works, [read the explanations](/docs/core-concepts-theming-explanations--page).

<Alert type="warning">
    Each time you have to set a color, radius, or any other themeable value present in the{' '}
    <a href="/docs/core-concepts-theming-taxonomy--page">taxonomy</a>,{' '}
    <strong>never choose it by its look but by the usage it was created for</strong>.
</Alert>

When choosing a variable, ask yourself if…

## Themeable value (most common use case)

**_…the value should change according to the theme._**

In this case, choose a variable from the [taxonomy](/docs/core-concepts-theming-taxonomy--page#mandatory-variables) that is meant to be used in your context.

When choosing a variable, make sure that **when the theme changes it makes sense for the variable value to change in your context too**. If not try another variable.

## Themeable value, with optional

**_…the value should change according to the theme, but there may be some adaptations for some of them._**

You may have encountered an uncommon case where your value should be adapted on theme switching. For example, we used optional variables to adapt the text and background colors for read and unread email items because the visual difference between them wasn't significant enough on dark themes.

In this kind of case, you'll probably have to create a new optional variable.

When naming the variable, use train-case naming convention and consider that the usage and context of it must be understood at once, so use a name that closely describes its context of use and the impacted property.

Then, choose a mandatory variable from the [taxonomy](/docs/core-concepts-theming-taxonomy--page#mandatory-variables) as a fallback. Remember that if an optional variable is used for more than one context, its name must be abstract.

Finally, add the new optional variable to the [dedicated mapping file](https://github.com/ProtonMail/WebClients/blob/main/packages/styles/scss/base/custom-properties/_optionals.scss) and [taxonomy docs](/docs/core-concepts-theming-taxonomy--page), and refer it to the core team.

## Static value

**_…the value should never change with any theme._**

This case should be as rare as finding Mewtwo.

For example, the star button to favorite an email item has always the same yellow color, regardless of theme.

If you have tested by switching between several themes and you are sure the value should never change, then you can set the value directly.

---

**[Next step, taxonomy &rarr;](/docs/core-concepts-theming-taxonomy--page)**
