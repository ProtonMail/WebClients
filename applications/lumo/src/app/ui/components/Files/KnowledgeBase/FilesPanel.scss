@use '~@proton/styles/scss/lib/config' as *;
@use '~@proton/styles/scss/lib/include-media' as im;
im.$breakpoints: $breakpoints-product;
im.$media-expressions: $media-expressions;

.files-management-modal {
	// Ensure full screen on mobile
	@include im.media('<=small') {
		.modal-two {
			block-size: 100vh;
			max-block-size: 100vh;
		}

		.modal-two-inner {
			block-size: 100vh;
			max-block-size: 100vh;
			margin: 0;
			border-radius: 0;
			display: flex;
			flex-direction: column;
		}

		.modal-two-content {
			flex: 1;
			overflow-y: auto;
			min-block-size: 0;
		}

		.modal-two-header {
			flex-shrink: 0;
		}
	}
}

.bg-progress-dark {
	background-color: var(--text-norm);
}

.files-panel {
	// Smooth panel entrance animation
	@include im.media('>small') {
		animation: slideInFromRight 0.3s ease-out;
	}

	// Ensure proper scrolling in modal
	&.modal-files-panel {
		block-size: 100%;
		overflow: visible;
		padding: 0 !important; // Override the pt-2 pr-4 pb-6 classes in modal

		.files-panel-content {
			block-size: 100%;
			max-block-size: none;
			border-radius: 0;
			box-shadow: none;
			display: flex;
			flex-direction: column;

			// Make the scrollable area take remaining space
			> div:last-child {
				flex: 1;
				min-block-size: 0;
				overflow-y: auto;
			}
		}
	}
}

.active-files-area {
	background-color: var(--background-weak);
	border: 1px solid var(--border-weak);
	border-radius: 16px;
}

.project-files-area {
	background-color: rgb(var(--primary-rgb) / 0.05);
	border: 1px solid rgb(var(--primary-rgb) / 0.2);
	border-radius: 16px;
}

.knowledge-info-area {
	background-color: rgb(229 228 225 / 0.3);
}

.file-item-card:hover,
.knowledge-file-item:hover {
	background-color: rgb(194 193 192 / 0.2);
	transition: all 0.2s;
}

// Panel entrance animation
@keyframes slideInFromRight {
	from {
		transform: translateX(100%);
		opacity: 0;
	}

	to {
		transform: translateX(0);
		opacity: 1;
	}
}
