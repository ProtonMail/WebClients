import { c } from 'ttag';

import { Button, Tooltip } from '@proton/atoms';

import { useGhostChat } from '../../providers/GhostChatProvider';

import './GhostChatButton.scss';

export const NewGhostChatButton = ({ className }: { className?: string }) => {
    const { isGhostChatMode, setGhostChatMode } = useGhostChat();

    const handleClick = () => {
        setGhostChatMode(!isGhostChatMode);
    };

    return (
        <Tooltip
            title={
                isGhostChatMode
                    ? c('collider_2025: Action').t`Disable ghost mode`
                    : c('collider_2025: Action').t`Enable ghost mode`
            }
            originalPlacement="left"
        >
            <Button
                shape="ghost"
                size="small"
                icon
                color="norm"
                onClick={handleClick}
                className={`${className} ${isGhostChatMode ? 'ghost-btn-active' : ''}`}
            >
                <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    className={isGhostChatMode ? 'color-primary' : 'color-weak'}
                >
                    <path
                        d="M14.7497 9.25362L15.4433 9.50118L18.0931 7.79902L18.313 9.96065H19.8204L19.5492 7.29146C19.4272 6.34374 18.3599 5.84537 17.5555 6.36201L15.2528 7.84077L15.2206 7.82979C14.3388 7.51745 13.3988 7.32506 12.4213 7.28193L12.0002 7.27314C10.9317 7.27314 9.90317 7.4516 8.9416 7.77339L8.85957 7.80122L6.61764 6.36201C5.81327 5.84537 4.74594 6.34374 4.624 7.29146L4.28125 9.96065H5.79302L5.81454 9.79305L6.07126 7.7939L8.66035 9.4565L9.34809 9.21993C9.37116 9.21198 9.39451 9.20351 9.41767 9.19576C10.2322 8.92318 11.1002 8.77315 12.0002 8.77315C12.9508 8.77318 13.8655 8.94087 14.7196 9.24336L14.7497 9.25362Z"
                        fill="currentColor"
                    />
                    <path
                        d="M17.0185 11.5867C17.7224 11.6254 18.4256 11.7126 19.124 11.8152C19.124 11.8152 19.7276 11.9083 20.1952 12.0867C20.3011 12.5859 20.2415 13.2531 20.1952 14.0428C20.149 14.8321 20.0404 15.1649 19.9257 15.7176C19.8243 16.206 19.6501 16.6734 19.3515 17.0789C18.98 17.5833 18.4266 17.8713 17.8925 18.0145C17.3585 18.1575 17.0996 18.1795 16.5898 18.1795C16.0799 18.1795 15.4666 18.1066 14.9394 17.8777C14.11 17.5177 13.6015 16.844 13.2607 16.0106C12.9652 15.2879 12.8152 14.5289 12.7372 13.7518C12.7055 13.435 12.5568 13.3029 12.2519 13.2986C12.0849 13.2964 11.9177 13.2971 11.7509 13.2977C11.3698 13.2991 11.2366 13.4385 11.2021 13.8328C11.1268 14.693 10.9268 15.5197 10.5576 16.2986C10.0551 17.358 9.23492 17.9511 8.10931 18.1092C7.45095 18.2016 6.79731 18.2093 6.14642 18.0525C5.17391 17.8182 4.52175 17.213 4.18548 16.24C3.94697 15.5499 3.81208 14.9642 3.77239 14.1072C3.77201 14.0944 3.71933 12.3453 3.85736 12.0867C4.07049 11.9434 5.12689 11.7693 5.12689 11.7693C5.86721 11.6373 6.61355 11.5568 7.36614 11.5809C8.41889 11.6148 9.45526 11.7795 10.4648 12.0867C11.1557 12.2969 11.8579 12.3472 12.5634 12.2781C12.9649 12.2388 13.3591 12.1074 13.7538 12.0057C14.8261 11.7296 15.9101 11.5259 17.0185 11.5867ZM7.49993 13.077C7.18946 13.0771 6.93753 13.329 6.93743 13.6395C6.93743 13.95 7.1894 14.2018 7.49993 14.202C8.01764 14.202 8.43733 14.6218 8.43743 15.1395C8.43743 15.45 8.6894 15.7018 8.99993 15.702C9.31059 15.702 9.56243 15.4501 9.56243 15.1395C9.56233 14.0005 8.63896 13.077 7.49993 13.077ZM16.4999 13.077C16.1895 13.0771 15.9375 13.329 15.9374 13.6395C15.9374 13.95 16.1894 14.2018 16.4999 14.202C17.0176 14.202 17.4373 14.6218 17.4374 15.1395C17.4374 15.45 17.6894 15.7018 17.9999 15.702C18.3106 15.702 18.5624 15.4501 18.5624 15.1395C18.5623 14.0005 17.639 13.077 16.4999 13.077Z"
                        fill="currentColor"
                    />
                </svg>
            </Button>
        </Tooltip>
    );
};
