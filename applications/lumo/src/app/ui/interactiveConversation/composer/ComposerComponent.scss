@use '~@proton/styles/scss/lib/config' as *;
@use '~@proton/styles/scss/lib/em' as *;
@use '~@proton/styles/scss/lib/rem' as *;
@use '~@proton/styles/scss/lib/include-media' as im;
im.$breakpoints: $breakpoints-product;
im.$media-expressions: $media-expressions;

.lumo-input-container {
	// Base styles
	border-color: var(--primary-contrast);
	border-radius: #{rem(22)};
	padding: #{rem(6)};
	transition: all 0.3s ease-out;

	// Mobile styles
	@include im.media('<=small') {
		border-block-end: none !important;
		inline-size: 98% !important;
		margin-block-end: 10px;

		// Mobile background override
		background-color: var(--background-composer-mobile), var(--background-norm);

		.lumo-input {
			border: none !important;
			background-color: var(--background-composer-mobile), var(--background-norm);
		}
	}

	&.shadow-lifted-composer {
		box-shadow: var(--optional-shadow-lifted-offset, 0 calc(var(--1px) * 5) calc(var(--1px) * 12)) rgb(var(--shadow-color,var(--shadow-default-color))/var(--shadow-lifted-opacity));
		@include im.media('<=small') {
			// Theme overrides
			box-shadow: none !important;
		}
	}

	// Ghost Mode Theme
	&.ghost-mode {
		// Define ghost mode color palette
		--ghost-bg-primary: #16141c;
		--ghost-bg-secondary: #292733;
		--ghost-border: #343140;
		--ghost-text: white;
		--ghost-text-weak: #8a8896;

		// Container styles
		border-color: var(--ghost-border);
		background-color: var(--ghost-bg-primary);
		color: var(--ghost-text);

		// Text content styling
		.color-weak {
			color: var(--ghost-text-weak) !important;
		}

		span,
		.text-sm,
		.markdown-rendering {
			color: var(--ghost-text);
		}

		// Input field styling
		.lumo-input {
			background-color: var(--ghost-bg-secondary);
			border-color: var(--ghost-border);
			color: var(--ghost-text);
		}

		// Component styling
		.file-card {
			background-color: var(--ghost-bg-secondary);
			border-color: var(--ghost-border);
		}

		.upload-menu {
			background-color: var(--ghost-bg-primary);
			color: var(--ghost-text);
		}

		// Ghost mode mobile overrides
		@include im.media('<=small') {
			// Theme overrides
			background-color: var(--ghost-bg-primary) !important;

			.lumo-input {
				background-color: var(--ghost-bg-secondary) !important;
				border-color: var(--ghost-border) !important;
				color: var(--ghost-text) !important;
			}
		}
	}
}

.lumo-input {
	border-radius: #{rem(16)};
	font-size: rem(16) !important;
	transition: all 0.3s ease-out;
}

.web-search-button.is-active {
	background-color: rgb(186 186 247 / 0.3) !important;
	color: var(--text-strong) !important;
}

