<form method="post" class="searchbox-container flex onmobile-wauto" novalidate>

    <div class="relative w100 flex flex-items-center noprint">

        <label for="global_search" class="w100 nomobile">
            <span class="sr-only" translate-context="Placeholder search" translate>Search messages</span>
            <input
                type="search"
                id="global_search"
                placeholder-translate="Search messages"
                placeholder-translate-context="Placeholder search"
                autocomplete="off"
                ng-model="model.query"
                class="pm-field w100 searchbox-field search-form-fieldset-input">
        </label>

        <button type="submit" class="searchbox-search-button nomobile flex">
            <icon
                data-name="search"
                data-fill="white"
                class="mauto searchbox-search-button-icon"></icon>
            <span class="sr-only" translate-context="Placeholder search" translate>Search messages</span>
        </button>

        <dropdown-container
            data-position="right"
            class="searchForm-dropdown searchbox-advanced-search-button">

            <dropdown-button
                pt-tooltip-translate-context="Action"
                pt-tooltip-translate="Advanced search"
                class="flex-item-noshrink">
                <icon
                    class="btnAdvancedSearch-icon-desktop nomobile mtauto mbauto"
                    name="caret"
                    fill="white"></icon>
                <icon
                    class="btnAdvancedSearch-icon-desktop nodesktop notablet mtauto mbauto"
                    name="search"
                    fill="white"
                    size="25"></icon>
                <span class="sr-only" translate translate-context="Search form">Open advanced search</span>
            </dropdown-button>

            <dropdown-content data-type="wide" class="dropDown-content--advancedSearch">

                <div class="searchForm-keywords pl1 pr1 pt1">
                    <div class="inline-flex w100">
                        <label
                            for="search_keywords"
                            class="pm-label sr-only"
                            translate
                            translate-context="Title">Keywords</label>

                        <div class="w100">
                            <input
                                class="pm-field w100 searchForm-input-keywords"
                                id="search_keywords"
                                name="search_keywords"
                                placeholder-translate="Keywords"
                                placeholder-translate-context="Placeholder search"
                                ng-model="model.query">
                        </div>
                    </div>

                    <div class="flex flex-nowrap mt1 pb1">
                        <label class="inline-flex" for="search_wildcaard">
                            <custom-checkbox
                                data-custom-id="search_wildcaard"
                                data-custom-ng-model="model.wildcard"></custom-checkbox>
                            <span
                                class="mr0-5"
                                translate-context="Info"
                                translate>Require exact match</span>
                        </label>

                        <a
                            title-translate-context="Title"
                            title-translate="Search (advanced search) FAQ"
                            href="https://protonmail.com/support/knowledge-base/search/"
                            target="_blank"
                            class="text-purple">
                            <icon data-name="info"></icon>
                        </a>
                    </div>
                </div>

                <div class="searchForm-options p1">
                    <div class="mb1 flex flex-column">
                        <label
                            for="search_folder"
                            class="pm-label"
                            translate
                            translate-context="Title">Location</label>

                        <div class="w100">
                            <select
                                id="search_folder"
                                class="pm-field w100"
                                ng-model="model.folder"
                                ng-options="folder.label group by folder.group for folder in folders"></select>
                        </div>
                    </div>

                    <div class="flex-autogrid">
                        <div class="flex flex-column flex-autogrid-item">
                            <label
                                for="search_sender"
                                class="pm-label"
                                translate
                                translate-context="Title">Sender</label>

                            <div class="w100 relative">
                                <autocomplete-email
                                    class="searchForm-autocomplete"
                                    data-email="model.from"
                                    data-custom-id="search_sender"
                                    data-custom-placeholder="{{'From' | translate:'Title'}}"></autocomplete-email>
                            </div>
                        </div>

                        <div class="flex flex-column flex-autogrid-item relative">
                            <label
                                for="search_recipient"
                                class="pm-label"
                                translate
                                translate-context="Title">Recipient</label>

                            <div class="w100 relative">
                                <autocomplete-email
                                    class="searchForm-autocomplete"
                                    data-email="model.to"
                                    data-custom-id="search_recipient"
                                    data-custom-placeholder="{{'To' | translate:'Title'}}"></autocomplete-email>
                            </div>
                        </div>

                    </div>

                    <div class="flex-autogrid">
                        <div class="flex flex-column flex-autogrid-item relativesearchForm-datepiker">

                            <label for="search_start" class="pm-label flex flex-items-center">
                                <span
                                    translate
                                    translate-context="Title">Start date</span>
                            </label>

                            <input
                                class="search-date pm-field w100"
                                type="text"
                                data-pikaday
                                autocomplete="off"
                                ng-model="model.begin"
                                data-default-date="{{::model.beginRaw}}"
                                data-max-date="model.end"
                                id="search_start">
                        </div>

                        <div class="flex flex-column flex-autogrid-item relative">
                            <label for="search_end" class="pm-label flex flex-items-center">
                                <span
                                    translate
                                    translate-context="Title">End date</span>
                            </label>

                            <input
                                class="search-date pm-field w100"
                                type="text"
                                data-pikaday
                                autocomplete="off"
                                ng-model="model.end"
                                data-default-date="{{::model.endRaw}}"
                                data-min-date="model.begin"
                                id="search_end">
                        </div>
                    </div>

                    <div class="flex-autogrid">
                        <div class="flex-autogrid-item flex flex-column">
                            <label
                                for="search_address"
                                class="pm-label"
                                translate
                                translate-context="Title">Address</label>

                            <div class="w100">
                                <select
                                    id="search_address"
                                    class="pm-field w100"
                                    ng-model="model.address"
                                    ng-options="address.Email for address in addresses | orderBy: 'Order' track by address.ID"></select>

                            </div>
                        </div>

                        <div class="flex flex-column flex-autogrid-item">
                            <label
                                for="search_end"
                                class="pm-label auto"
                                translate
                                translate-context="Search form option heading">Attachments</label>

                            <div class="radio searchFrom-advanced-radio  flex pt0-5">
                                <label class="flex flex-items-center flex-nowrap mr1">
                                    <div>
                                        <custom-radio
                                            data-custom-id="attachments_all"
                                            data-custom-ng-model="model.attachments"
                                            data-custom-value="2"></custom-radio>
                                    </div>
                                    <span
                                        translate
                                        translate-context="Search action filter"
                                        translate-comment="form option">All</span>
                                </label>
                                <label class="flex flex-items-center flex-nowrap mr1">
                                    <div>
                                        <custom-radio
                                            data-custom-id="attachments_yes"
                                            data-custom-ng-model="model.attachments"
                                            data-custom-value="1"></custom-radio>
                                    </div>
                                    <span
                                        translate
                                        translate-context="Search action filter"
                                        translate-comment="form option">Yes</span>
                                </label>
                                <label class="flex flex-items-center flex-nowrap">
                                    <div>
                                        <custom-radio
                                            data-custom-id="attachments_no"
                                            data-custom-ng-model="model.attachments"
                                            data-custom-value="0"></custom-radio>
                                    </div>
                                    <span
                                        translate
                                        translate-context="Search action filter"
                                        translate-comment="form option">No</span>
                                </label>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="pl1 pr1 pb1">
                    <button
                        type="submit"
                        class="searchForm-advanced-submit pm-button-blue w100">
                        <icon data-name="search" fill="white"></icon>
                        <span translate translate-context="Action">Search</span>
                    </button>
                </div>

            </dropdown-content>
        </dropdown-container>
    </div>

</form>
