@use 'sass:math';
@import '~@proton/styles/scss/lib';

.button-promotion {
	--upgrade-color-stop-1: var(--optional-upgrade-color-1, #fd4baf);
	--upgrade-color-stop-2: var(--optional-upgrade-color-2, #22d8ff);
	--upgrade-background-color: var(--background-norm);

	position: relative;
	block-size: rem(36);
	border: 1px solid transparent;

	> span {
		z-index: 2;
	}

	&.button-small {
		block-size: rem(28);
	}

	&.button-large {
		block-size: rem(44);
	}

	&:not([class*='ghost']),
	&.button-for-icon:hover,
	&.button-for-icon:focus-visible {
		background:
			linear-gradient(var(--upgrade-background-color), var(--upgrade-background-color)) padding-box,
			linear-gradient(var(--background-norm), var(--background-norm)) padding-box,
			linear-gradient(to right, var(--upgrade-color-stop-1), var(--upgrade-color-stop-2)) border-box;
		color: var(--text-norm);
		border: 1px solid transparent;
	}

	&:hover,
	&:focus-visible {
		--upgrade-background-color: var(--button-hover-background-color);
	}

	&--upgrade {
		block-size: rem(20);
		padding-inline: rem(6);
		padding-block: rem(3);
		border-radius: var(--border-radius-sm);
	}

	&--icon-gradient {
		linearGradient {
			--color-stop-1: var(--upgrade-color-stop-1);
			--color-stop-2: var(--upgrade-color-stop-2);
		}
	}

	&--full-gradient {
		&#{&} {
			&,
			&:hover,
			&:focus {
				background: linear-gradient(86.95deg, var(--primary-major-1) 0%, var(--promotion-secondary-color) 100%);

				--text-norm: white;

				border: 0;
			}
		}

		&#{&}.lumo-bf2025-promotion {
			&,
			&:hover,
			&:focus {
				background: linear-gradient(7.46deg, #ffac2e 4.37%, #dd5dcc 42.93%, #1ba3fd 106.9%, #5325a2 147.64%);

				--text-norm: white;

				border: 0;
			}
		}
	}

	&--pinkblue {
		// used for some promotions
		&#{&} {
			&,
			&:hover,
			&:focus {
				background: linear-gradient(86.26deg, #da30ea 0%, #6d4aff 51.44%, #4ab8f6 100%);

				--text-norm: white;

				border: 0;
			}
		}
	}

	&--yellow {
		// used for some promotions
		&#{&} {
			&,
			&:hover,
			&:focus {
				background: #ffd000;
				color: #08031f;
				border: 0;
				border-radius: var(--border-radius-md);
			}
		}
	}

	// BF 2025 temporary layouts
	&--bf-2025-free {
		&#{&} {
			&,
			&:hover,
			&:focus {
				background: #d8ff00;
				color: #251b4e;
				border: 1px solid #251b4e;
				border-radius: var(--border-radius-md);
			}

			&:hover,
			&:focus {
				background: #cff402;
			}
		}
	}

	&--bf-2025-paid {
		&#{&} {
			// --button-hover-background-color: --interaction-default-hover;
			// --button-active-background-color: --interaction-default-hover;
			--button-default-text-color: var(--primary);
			--button-hover-text-color: var(--primary);
			--button-active-text-color: var(--primary);

			border-color: var(--primary);
		}
	}

	&--bf-2025-wave2 {
		&#{&} {
			&,
			&:hover,
			&:focus {
				background-color: #251b4e;
				color: #d8ff00;
				border: 1px solid #d8ff00;
				border-radius: var(--border-radius-md);
				background-clip: padding-box; // to avoid issues with radiuses rendering between background and border
			}

			&:hover,
			&:focus {
				background-color: #040209;
			}
		}
	}

	// Temporary layout
	&--anniversary-2025 {
		&#{&} {
			// --button-hover-background-color: --interaction-default-hover;
			// --button-active-background-color: --interaction-default-hover;
			--button-default-text-color: var(--primary);
			--button-hover-text-color: var(--primary);
			--button-active-text-color: var(--primary);

			border-color: var(--primary);
		}
	}

	// Unlimited permanent offer 2025
	&--go-unlimited-2025 {
		&#{&} {
			// --button-hover-background-color: --interaction-default-hover;
			// --button-active-background-color: --interaction-default-hover;
			--button-default-text-color: var(--primary);
			--button-hover-text-color: var(--primary);
			--button-active-text-color: var(--primary);

			border-color: var(--interaction-weak-major-1);
		}
	}

	&--lumo {
		--text-norm: var(--link-norm);
	}
}
